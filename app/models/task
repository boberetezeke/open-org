class Task < ActiveRecord::Base
  belongs_to  :owner,       :polymorphic => true
  belongs_to  :requester    :polymorphic => true

  belongs_to  :depends_on,  :class_name => "Task", :foreign_key => :depends_on_task_id
  has_many    :dependents,  :class_name => "Task", :foreign_key => :depends_on_task_id

  belongs_to  :parent_task, :class_name => "Task", :foreign_key => :parent_task_id
  has_many    :child_tasks, :class_name => "Task", :foreign_key => :parent_task_id
end
